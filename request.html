<html lang = "en">
    <head>
        <link rel="stylesheet" href="style.css" />
        <title>Book it Forward</title>
        <script src="javascript"></script>
        <script src="https://code.jquery.com/jquery-3.5.0.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>

    <body>
        <div id="mySidenav" class = "sidenav">
            <a href="index.html">
                <img src="logo.png" style="width: auto; height:100px; position:absolute;top: 10px; left:21px;">
            </a>
            <br><br>
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
            <a href="request.html">Request Tufts Reading</a>
            <a href="https://abdiwakene.github.io/lesiurereading/">Leisure Reading</a>
            <a href="donate.html">Donate</a>
            <a href="resources.html">Resources</a>
            <a href="contact.html">Contact Us</a>
        </div>

        <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776;</span>

        <script>
            function openNav(){
                document.getElementById("mySidenav").style.width = "250px";
            }
            function closeNav(){
                document.getElementById("mySidenav").style.width = "0";
            }
        </script>

        <h1 style="font-size: 50px; background-color: #f9f9f9; opacity: .7; border-radius: 20px; padding:25px;"><strong>
            Request a Book</strong></h1>

        <div>
            <button type="button" id="formButton">Tufts Reading</button>
            <form id="form1" method = "GET" action = "http://localhost:8080/request">
              <!-- action: URL. Try localhost:8080 or process. -->
              <!-- method POST or GET -->
            <b>First Name:</b> <input type="text" name="firstName">
            <br><br>
            <b>Last Name: </b><input type="text" name="lastName">
            <br><br>
            <b>Student ID Number: </b><input type="text" name="idNum">
            <br><br>
            <b>Tufts Email Address: </b><input type="email" name="email">
            <!-- <input type="radio" name="age" value="adolescent"> 0 - 19 years
            <br>
            <input type="radio" name="age" value="mid"> 20 - 59 years
            <br>
            <input type="radio" name="age" value="senior"> 60 + years -->
            <br> <br>
            <!-- include database in drop down menu -->
            <b>Books:</b>
            <select id = "textbook">
                <option value="chem">Chemistry the Central Science</option>
                <option value="calc">Calculus Early Transcendentals</option>
                <option value="psych">Psychological Science</option>
                <option value="econ">Economics</option>
                <option value="write">The Writer's Presence</option>
                <option value="phys">Physics</option>
                <option value="stat">Elementary Statistics</option>
                <option value="fin">Financial Accounting</option>
                <option value="hist">A History of Byzantium</option>
                <option value="plato">The Republic of Plato</option>
            </select>
            <br><br>
            <b>Comment:</b>
            <br>
            <textarea name="comment">
                Enter your comment here
            </textarea>
            <br><br>
            <button type="button" id="submit">Submit</button>
            </form>
        </div>

        <script>
            $(document).ready(function() {
                $("#formButton").click(function() {
                    $("#form1").toggle();
                });
                });

            $(document).ready(function() {
                $("#formButton2").click(function() {
                    $("#form2").toggle();
                });
                });

                // // must be done on a different URL,
                // // should be under node.js
                //
                // const {MongoClient} = require('mongodb');
                // const express = require("express"); // the library we will use to handle requests
                // const port = process.env.port || 8080; // port to listen on
                // const app = express();
                //
                // // Main function that executes CRUD
                // async function main() {
                // 	const uri = "mongodb+srv://magyen:3xjxNziv@cluster0.j0gko.mongodb.net/myFirstDatabase?retryWrites=true&w=majority"
                //
                //   const client = new MongoClient(uri);
                //
                //   try {
                //       await client.connect();
                //       // await listDatabases(client);
                //       // await findOneListingByName(client, "Physics")
                //       await updateListingbyStatus(client, $("#textbook").val(), {taken: true})
                //
                //   } catch (e) {
                //     console.error(e);
                //   } finally {
                //     await client.close();
                //   }
                //
                // }
                //
                // async function updateListingbyStatus(client, nameOfListing, updated_status){
                //   const result = await client.db("CS20Final").collection("books").updateOne({ name : nameOfListing} , {$set: updated_status});
                //
                //   if(result){
                //     console.log("worked")
                //     console.log(result);
                //   } else {
                //     console.log("not found");
                //   }
                // }
                //
                // main().catch(console.error);

        </script>
    </body>
</html>
